<!DOCTYPE html>
<html>

  <!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="High-performance dynamic image server in Java
">

  <title>
    Cantaloupe Image Server
    
      :: Endpoints
    
  </title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="/cantaloupe/css/syntax.css">
  <link rel="stylesheet" href="/cantaloupe/css/manual.css">

  <script src="/cantaloupe/scripts/jquery.min.js"></script>

</head>


  <body>

    <nav class="navbar navbar-expand-md navbar-dark bg-primary">
  <a class="navbar-brand" href="/cantaloupe/">
    <img alt="Cantaloupe" src="/cantaloupe/images/cantaloupe.png" width="40">
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-items" aria-controls="navbar-items" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbar-items">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle  active " href="#" id="user-manual-dropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          User Manual
        </a>
        <div class="dropdown-menu" aria-labelledby="user-manual-dropdown">
          <a class="dropdown-item" href="/cantaloupe/manual/4.1/getting-started.html">4.1</a>
          <a class="dropdown-item" href="/cantaloupe/manual/4.0/getting-started.html">4.0</a>
          <a class="dropdown-item" href="/cantaloupe/manual/3.4/getting-started.html">3.4</a>
          <a class="dropdown-item" href="/cantaloupe/manual/3.3/getting-started.html">3.3</a>
          <a class="dropdown-item" href="/cantaloupe/manual/3.2/getting-started.html">3.2</a>
          <a class="dropdown-item" href="/cantaloupe/manual/3.1/getting-started.html">3.1</a>
          <a class="dropdown-item" href="/cantaloupe/manual/3.0/getting-started.html">3.0</a>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/medusa-project/cantaloupe/">GitHub</a>
      </li>
    </ul>

    <ul class="navbar-nav ml-md-auto">
      <li class="nav-item">
        <a href="https://github.com/medusa-project/cantaloupe/releases.atom" title="Subscribe to Releases">
          <img width="22" height="22" src="/cantaloupe/images/feed.svg">
        </a>
      </li>
    </ul>
  </div>
</nav>


    <div class="container-fluid">
      <div class="row">
  <div class="col-sm-4 col-md-3 col-lg-2 d-print-none">
    <div class="card">
  <h5 class="card-header version">4.1</h5>
  <div class="list-group list-group-flush">
    <a class="list-group-item list-group-item-action " href="getting-started.html">Getting Started</a>

    <a class="list-group-item list-group-item-action " href="configuration.html">Configuration</a>

    <a class="list-group-item list-group-item-action  active " href="endpoints.html">Endpoints</a>

    <a class="list-group-item list-group-item-action " href="images.html">Images</a>

    <a class="list-group-item list-group-item-action " href="sources.html">Sources</a>

    <a class="list-group-item list-group-item-action " href="processors.html">Processors</a>

    <a class="list-group-item list-group-item-action " href="caching.html">Caching</a>

    <a class="list-group-item list-group-item-action " href="access-control.html">Access Control</a>

    <a class="list-group-item list-group-item-action " href="delegate-script.html">Delegate Script</a>

    <a class="list-group-item list-group-item-action " href="overlays.html">Overlays</a>

    <a class="list-group-item list-group-item-action " href="redaction.html">Redaction</a>

    <a class="list-group-item list-group-item-action " href="logging.html">Logging</a>

    <a class="list-group-item list-group-item-action " href="deployment.html">Deployment</a>

    <a class="list-group-item list-group-item-action " href="remote-management.html">Remote Management</a>
  </div>
</div>

  </div>
  <div class="col-sm-8 col-md-9 col-lg-10">
    <h1>Endpoints</h1>

<ul class="toc">
  <li><a href="#IIIFImageAPI2">IIIF Image API 2</a></li>
  <li><a href="#IIIFImageAPI1">IIIF Image API 1</a></li>
  <li>
    <a href="#Additional%20Features">Additional Features</a>
    <ul>
      <li><a href="#Response%20Content%20Disposition">Response Content Disposition</a></li>
      <li><a href="#Bypassing%20the%20Caches">Bypassing the Caches</a></li>
      <li><a href="#Processor-Specific%20Arguments">Processor-Specific Arguments</a></li>
    </ul>
  </li>
</ul>

<h2 id="IIIFImageAPI2">IIIF Image API 2</h2>

<h3>Documentation</h3>

<ul>
  <li><a href="http://iiif.io/api/image/2.0/">IIIF Image API 2.0</a></li>
  <li><a href="http://iiif.io/api/image/2.1/">IIIF Image API 2.1</a></li>
</ul>

<h3>Location</h3>

<p>This endpoint is available at <span class="filename">/iiif/2</span>.</p>

<h3>Enabling/Disabling</h3>

<p>This endpoint can be enabled or disabled using the <code>endpoint.iiif.2.enabled</code> configuration key.</p>

<h3>Compliance</h3>

<p>Version 2.1.1 of this API is implemented. <a href="http://iiif.io/api/image/2.1/compliance/">Compliance level</a> is dynamically computed and declared on a per-processor basis. Most processors are "Level 2"-compliant.</p>

<h3>Information Response Notes</h3>

<dl>
  <dt><code>sizes</code></dt>
  <dd>An array of width/height pairs according to the formula <i>dimension * 1/2<sup>n</sup> &gt; <code>endpoint.iiif.min_size</code></i>. (To restrict access to only these sizes, use the <code>endpoint.iiif.2.restrict_to_sizes</code> configuration option.)</dd>
  <dt><code>tiles</code></dt>
  <dd>Contains a tile size that will be relatively efficient to deliver, along with a list of scale factors at which each size is available.
    <ul>
      <li>For images that are natively tiled, the <code>width</code> and <code>height</code> are a multiple of the native tile dimensions no smaller than the value of the <code>endpoint.iiif.min_tile_size</code> configuration key.</li>
      <li>For untiled images, they are based on the <code>endpoint.iiif.min_tile_size</code> configuration key.</li>
    </ul>
  </dd>
  <dt><code>profile.formats</code></dt>
  <dd>This list of output formats depends on the processor assigned to the format of the source image.</dd>
  <dt><code>profile.maxArea</code></dt>
  <dd>This value reflects the settings of <code>max_pixels</code> and <code>max_scale</code>.</dd>
  <dt><code>profile.qualities</code></dt>
  <dd>Depends on the qualities supported by the processor assigned to the format of the source image.</dd>
  <dt><code>profile.supports</code></dt>
  <dd>Dynamically computed based on the features supported by the processor assigned to the format of the source image, features built into the image server itself, and various other configuration options.</dd>
  <dt>Other keys (<code>attribution</code>, <code>service</code>, etc.)</dt>
  <dd>See <a href="#Additional Information Response Keys">Additional Information Response Keys</a>.</dd>
</dl>

<h4 id="Additional Information Response Keys">Additional Information Response Keys</h4>

<p>Custom keys can be added to the information JSON response, such as to declare <a href="http://iiif.io/api/annex/services/">service profiles</a> or, beginning in Image API 2.1, an optional rights statement and/or logo. The <a href="delegate-script.html">delegate script</a> needs to implement the <code>extra_iiif2_information_response_keys()</code> method. An example implementation follows:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">CustomDelegate</span>
  <span class="k">def</span> <span class="nf">extra_iiif2_information_response_keys</span><span class="p">(</span><span class="n">options</span> <span class="o">=</span> <span class="p">{})</span>
    <span class="p">{</span>
        <span class="s1">'attribution'</span> <span class="o">=&gt;</span> <span class="s1">'Copyright My Great Organization. All rights reserved.'</span><span class="p">,</span>
        <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'http://example.org/license.html'</span><span class="p">,</span>
        <span class="s1">'logo'</span> <span class="o">=&gt;</span> <span class="s1">'http://example.org/logo.png'</span><span class="p">,</span>
        <span class="s1">'service'</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="s1">'@context'</span> <span class="o">=&gt;</span> <span class="s1">'http://iiif.io/api/annex/services/physdim/1/context.json'</span><span class="p">,</span>
            <span class="s1">'profile'</span> <span class="o">=&gt;</span> <span class="s1">'http://iiif.io/api/annex/services/physdim'</span><span class="p">,</span>
            <span class="s1">'physicalScale'</span> <span class="o">=&gt;</span> <span class="mf">0.0025</span><span class="p">,</span>
            <span class="s1">'physicalUnits'</span> <span class="o">=&gt;</span> <span class="s1">'in'</span>
        <span class="p">}</span>
    <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<hr>

<h2 id="IIIFImageAPI1">IIIF Image API 1</h2>

<h3>Documentation</h3>

<ul>
  <li><a href="http://iiif.io/api/image/1.0/">IIIF Image API 1.0</a></li>
  <li><a href="http://iiif.io/api/image/1.1/">IIIF Image API 1.1</a></li>
</ul>

<h3>Location</h3>

<p>This endpoint is available at <span class="filename">/iiif/1</span>.</p>

<h3>Enabling/Disabling</h3>

<p>This endpoint can be enabled or disabled using the <code>endpoint.iiif.1.enabled</code> configuration key.</p>

<h3>Compliance</h3>

<p>Version 1.1 of this API is implemented. Compliance level is dynamically computed and declared on a per-processor basis. Most processors are "Level 2"-compliant.</p>

<h3>Information Response Notes</h3>

<dl>
  <dt><code>tile_width</code> and <code>tile_height</code></dt>
  <dd>These keys refer to tile dimensions that will be relatively efficient to deliver.
    <ul>
      <li>For images that are natively tiled, these will be the smallest of the native tile dimensions, the value of the <code>endpoint.iiif.min_tile_size</code> configuration key, or the full image dimensions.</li>
      <li>For untiled images, these will be the smallest value of <i>n</i> for the formula: <i>(smallest dimension) * 1/2<sup>n</sup> &gt; <code>endpoint.iiif.min_tile_size</code></i>.</li>
    </ul>
  </dd>
  <dt><code>formats</code></dt>
  <dd>This list of output formats depends on the processor assigned to the format of the source image.</dd>
  <dt><code>qualities</code></dt>
  <dd>Depends on the qualities supported by the processor assigned to the format of the source image.</dd>
  <dt><code>profile</code></dt>
  <dd>Dynamically computed based on the features supported by the processor assigned to the format of the source image, as well as features built into the image server itself.</dd>
</dl>

<hr>

<h2 id="Additional Features">Additional Features</h2>

<p>All endpoints support these additional features:</p>

<h3 id="Response Content Disposition">Response Content Disposition</h3>

<p>The <a href="https://tools.ietf.org/html/rfc6266"><code>Content-Disposition</code></a> HTTP response header tells clients whether to attempt to display a response entity inline or download it, perhaps accompanied by a user prompt. The <code>endpoint.iiif.content_disposition</code> configuration key can be used to set a value for this header in all responses. In addition, a <code>response-content-disposition</code> query argument can be used to suggest a value to override that on a per-request basis. This is useful for &quot;linking to a download.&quot; For example, the following URL will cause web browsers to download the image identified by <code>some-identifier</code> and save it as <span class="filename">image.jpg</span>:</p>

<pre>http://my-image-server/iiif/2/some-identifier/full/full/0/default.jpg
    ?response-content-disposition=attachment%3B%20filename%3Dimage.jpg</pre>

<p>The value of the query argument must be URL-encoded. In this case, the decoded form looks like: <code>attachment; filename=image.jpg</code>.</p>

<h3 id="Bypassing the Caches">Bypassing the Caches</h3>

<p>The <a href="caching.html">caches</a> can be bypassed on a per-request basis by supplying a <code>cache=false</code> URL query argument. This bypasses the source, derivative, and info caches, and also omits any <code>Cache-Control</code> response header that may be configured, on a per-request basis. This is useful for testing and health checks.</p>

<h3 id="Processor-Specific Arguments">Processor-Specific Arguments</h3>

<p>Various processors support various additional query arguments that the IIIF Image API cannot support in the path portion of an image request URL. These are detailed in the <a href="processors.html#Implementations">processor documentation</a>.</p>

  </div>
</div>


      <footer>
</footer>

<script src="/cantaloupe/scripts/bootstrap.min.js"></script>
<script src="/cantaloupe/scripts/base.js"></script>

    </div>

  </body>

</html>
